<mat-select
  matNativeControl
  multiple
  [(ngModel)]="selected"
  (ngModelChange)="filterChanged()"
  (click)="$event.stopPropagation()"
>
  <mat-select-trigger>({{ selected?.length }})</mat-select-trigger>
  <mat-option [value]="item" *ngFor="let item of options">{{
    item | dynamicPipe: pipe:pipeArgs
  }}</mat-option>
</mat-select>
